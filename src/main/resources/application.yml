server:
  port: 8765

spring:
  cloud:
    default-filters:
      - name: Retry
        args:
          retry: 5
          methods: GET
          backoff:
            firstBackOff: 10ms
            maxBackOff: 50ms
            factor: 2
            basedOnPreviousValue: false
    gateway:
      routes:
        - id: currency-exchange-service
          uri: http://localhost:8000
          predicates:
            - Path=/currency/exchange/**
            - Path=/admin/clearCache/**
            - Path=/admin/clearCacheByName/**
        - id: currency-conversion-service
          uri: http://localhost:8100
          predicates:
            - Path=/conversion/convert/**


  sleuth:
    sampler:
      probability: 1.0

  application:
    name: api-gateway
  redis:
    host: localhost
    port: 6379

eureka:
  client:
    serviceUrl:
      defaultZone: http://127.0.0.1:8761/eureka
  instance:
    prefer-ip-address: true

opentracing:
  jaeger:
    http-sender:
      url: http://localhost:14268/api/traces

#management:
#  endpoints:
#    web:
#      exposure:
#        include: health, info, prometheus, metrics
#
#
#logging:
#  level:
#    org.springframework.cloud.gateway.handler.RoutePredicateHandlerMapping: DEBUG
